<!DOCTYPE html>
<html lang="ko" style="--vh: 4.89px;" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>트립조이-로그인</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="icon" href="/static/assets/favicons/favicon.png">
  <link rel="stylesheet" type="text/css" th:href="@{/css/font.css}">
  <link rel="stylesheet" type="text/css" th:href="@{/css/common.css}">
    <style>
      *{}
      body{
        
        line-height: 1.25;
        font-family: "SUIT", sans-serif;
        font-size: 15px;
        color: #111;
      }
      @media (min-width: 1200px){
        #content {
            padding-bottom: 120px;
        }
        .inner {
          max-width: 1200px;
          margin: 0 auto;
          padding: 0;
        }
        .page-header {
          position: inherit;
          text-align: center;
          padding-right: 0;
        }
        .page-header .page-title.v2 {
          font-size: 40px;
        }
        .sub-title{
          margin-top: 25px;
          font-size: 20px;
          line-height: 1.5;
          font-weight: 500;
          color: #111;
        }
        .section-login .login-wrap {
          width: 504px;
          margin: 0 auto;
        }
        .form-item {
          position: relative;
          margin-top: 12px;
        }
        .form-item input:not(:placeholder-shown) + .title {
          font-size: 11px;
          top: 9px;
          color: #94949a;
        }

        .form-item input {
          padding-top: 15px;
        }
        .form-item input {
          box-sizing: border-box;
          height: 64px;
          font-size: 18px;
          padding: 0 20px;
          border: 1px solid #efefef;
          background: #f4f4f4;
          color: #111;
          border-radius: 12px;
        }
        .form-item label.title {
          font-size: 18px;
          top: 21px;
        }
        .btn-type full{
          max-width: 100%;
          height: 64px;
          font-size: 20px;
        }
        .chk-box label {
          font-size: 16px;
          font-weight: 600;
          margin-right: 10px
        }
        .sns-box {
          padding-top: 60px;
          text-align: center;
        }
        .tooltip {
          background: #fff;
          border-radius: 27px;
          padding: 17px 19px;
          font-size: 18px;
          min-width: 185px;
        }
      }
      #content {
        padding: 30px 0 80px;
      }
      .inner {
        position: relative;
        width: 100%;
        padding: 0 20px;
      }
      .page-header.t-c {
        text-align: center;
        padding-right: 0;
      }
      .login-wrap {
        width: 100%;
        margin: 0 auto;
      }
      .form-item:first-child {
        margin-top: 0;
      }
      .form-item {
        position: relative;
        margin-top: 12px;
      }
      .form-item label.title {
          position: absolute;
          left: 20px;
          top: 19px;
          display: block;
          transition: all 0.2s ease;
          pointer-events: none;
          font-size: 15px;
          font-weight: 600;
          color: #94949a;
      }
      .form-item input:focus ~ .title {
        font-size: 11px;
        top: 9px;
        color: #03c75a;
      }
      .btn-wrap {
        margin-top: 30px;
        display: flex;
        justify-content: center;
      }
      .btn-type {
        background: #03c75a;
        color: #fff;
        max-width: 100%;
        
        display: inline-flex;
        align-items: center;
        justify-content: center;
        position: relative;
        height: 56px;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        width: 100%;
        transition: background 0.2s ease;
        box-sizing: border-box;
      }
      .section-login .login-wrap .form-box .form-bottom {
        margin-top: 30px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      input[type=text]:focus, input[type=number]:focus, input[type=password]:focus, input[type=tel]:focus {
        border-color: #b8ffc5;
        background: #e8ffef;
        outline: none;
        color: #111;
      }
      input[type=text], input[type=submit], input[type=password], input[type=search], input[type=number], input[type=reset], input[type=email], input[type=tel], input[type=search], input[type=file], input[type=email], input[type=tel] {
        height: 56px;
        padding: 0 20px;
        border: 1px solid #efefef;
        background: #f4f4f4;
        color: #111;
        border-radius: 12px;
      }


      .form-bottom {
        margin-top: 30px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .chk-box:first-child {
        margin-left: 0;
      }
      .chk-box {
        display: inline-block;
        text-align: left;
      }
      .chk-box input[type=checkbox], .chk-box input[type=radio] {
        display: none;
      }
      input[type=checkbox] {
        position: absolute;
        top: 0;
        left: 0;
        opacity: 0;
        -webkit-appearance: none;
        -moz-appearance: none;
        -o-appearance: none;
        appearance: none;
      }
      .chk-box .checkbox {
        display: inline-block;
        position: relative;
        width: 24px;
        min-width: 24px;
        height: 24px;
        margin-right: 6px;
        border: 1px solid #94949a;
        background-color: #fff;
        border-radius: 5px;
      }
      .chk-box input[type=checkbox] + .checkbox:before {
        transform: translate(6px, 9px) rotate(45deg);
        transition-delay: 100ms;
      }
      .chk-box input[type=checkbox] + .checkbox:after {
        transform: translate(10px, 14px) rotate(-53deg);
        transition-delay: 0ms;
      }
      .chk-box.selected input[type=checkbox] ~ .checkbox:before {
        transition-delay: 0ms;
      }
      .chk-box.selected input[type=checkbox] ~ .checkbox:before, .chk-box.selected input[type=checkbox] ~ .checkbox:after {
        background: #fff;
      }
      .chk-box input[type=checkbox]:checked ~ .checkbox:before {
        width: 7px;
      }
      .chk-box.selected input[type=checkbox] ~ .checkbox:after {
        transition-delay: 100ms;
      }
      .chk-box.selected input[type=checkbox] ~ .checkbox:before, .chk-box.selected input[type=checkbox] ~ .checkbox:after {
        background: #fff;
      }
      .chk-box input[type=checkbox]:checked ~ .checkbox:after {
        width: 10px;
      }
      .chk-box input[type=checkbox] + .checkbox:before, .chk-box input[type=checkbox] + .checkbox:after {
        content: "";
        position: absolute;
        width: 0;
        height: 2px;
        background: #f4f4f4;
        border-radius: 15px;
        transform-origin: left;
        transition: all 150ms;
      }
      .chk-box.selected input[type=checkbox] + .checkbox {
        background: #03c75a;
        border-color: #03c75a;
      }
      .chk-box label {
        cursor: pointer;
        vertical-align: middle;
        font-size: 16px;
      }

      .list-type2 {
        font-size: 0;
        margin-bottom: 0;
      }
      ol, ul {
        list-style: none;
      }
      .list-type2 li {
        display: inline-flex;
        align-items: center;
        position: relative;
        font-size: 16px;
        line-height: 1.6;
      }
      .list-type2 li a {
        font-size: 16px;
      }
      .list-type2 li + li {
        padding-left: 9px;
        margin-left: 9px;
      }
      .list-type2 li + li:before {
        content: "";
        position: absolute;
        top: 50%;
        margin-top: -6px;
        left: 0;
        width: 1px;
        height: 13px;
        background: #e3e3e3;
      }
      ::before, ::after {
        box-sizing: border-box;
      }
      .tooltip {
        background: #fff;
        border-radius: 20px;
        padding: 10px 16px;
        box-shadow: 0 3px 12px 0 rgba(0, 0, 0, 0.12);
        margin-bottom: 10px;
        position: relative;
        display: inline-block;
        font-size: 13px;
      }
      .sns-box ul li {
        display: inline-block;
      }
      a {
        color: inherit;
        text-decoration: none;
      }
      select, input, textarea {
        width: 100%;
        vertical-align: middle;
        box-shadow: none;
        border-radius: 0;
        outline: none;
        border: 0;
        font-family: "SUIT", sans-serif;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        font-weight: 600;
        font-size: 15px;
        color: inherit;
      }
      .form-search input {
        height: 50px;
        font-size: 14px;
        padding: 0px 45px;
      }

  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script th:src="@{/js/cookie/cookieUtil.js}"></script>
  <script>
    $(document).ready(function () {
      var fm = document.getElementById('loginForm');

      //enter key 누를시 이벤트
      $('[name="memberId"],[name="memberPwd"]').on('keyup', function (e) {
        if (e.keyCode == 13) {
          validateAndSubmit();
        }
      });

      $("#aBtnLogin").on('click', function(e) {
        validateAndSubmit();
      });

      function validateAndSubmit() {
        var memberId = $("#memberId").val();
        var memberPwd = $("#memberPwd").val();

        if (memberId.trim().length == 0) {
          alert('아이디가 입력되지 않았습니다.');
          return false;
        }
        if (memberPwd.trim().length == 0) {
          alert('비밀번호가 입력되지 않았습니다.');
          return false;
        }

        $.ajax({
          url: "/member/loginProcess",
          method: "post",
          data: {
            memberId: memberId,
            memberPwd: memberPwd
          },
          statusCode: {
            200: function() {
              // 로그인 성공 시 페이지 리다이렉트
              location.href = '/';
            },
            401: function() {
              // 로그인 실패 시 알림창 띄우기
              alert('등록되지 않은 아이디거나, 아이디 또는 비밀번호를 잘못 입력하셨습니다.');
            }
          }
        });
        return false;
      }
      //아이디 저장값 확인
      getCookieSaveId();
    });

    //아이디 저장 쿠키 세팅
    function setCookieSaveId() {
      if ($("#saveId").prop("checked")) {
        cookieManager.setCookie("saveId", $("#memberId").val(), 365, '/', 'localhost');
      } else {
        cookieManager.clearCookie('saveId','/');
      }
    }

    //아이디 저장 쿠키 가져오기
    function getCookieSaveId() {
      var saveId = cookieManager.getCookie("saveId");
      if (saveId) {
        if (!$("#saveId").prop("checked")) {
          $("#saveId").click();
          $("#memberId").val(saveId);
        } else {
          $("#memberId").val(saveId);
        }
      }
    }

  </script>
  <script>
    $(document).ready(function () {
      // 체크박스 상태 변경 이벤트
      $('#saveId').change(function() {
        updateCheckboxState($(this));
      });

      // 페이지 로드 시 체크박스 초기 상태 설정
      updateCheckboxState($('#saveId'));
    });

    function updateCheckboxState(checkbox) {
      if (checkbox.is(":checked")) {
        checkbox.closest('.chk-box').addClass("selected");
        checkbox.attr("checked", "checked");
      } else {
        checkbox.closest('.chk-box').removeClass("selected");
        checkbox.removeAttr("checked");
      }
    }
  </script>
</head>
<body>
  <!--헤더공통영역-->
  <th:block th:replace="~{common/header :: header}"></th:block>
  <main>
    <!--로그인-->
    <div id="container">
      <section id="content" class="section-login">
        <div class="inner">
          <div class="page-header t-c">
            <h2 class="page-title v2">로그인</h2>
            <p class="sub-title">로그인하시고 '트립조이'의 다양한 서비스를 이용하세요</p>
          </div>
          <div class="login-wrap">
            <div class="form-box">
              <form id="loginForm">
                <div class="form-item">
                  <input type="text" placeholder="&nbsp;" id="memberId" name="memberId" autocomplete="off">
                  <label for="memberId" class="title">아이디</label>
                </div>
                <div class="form-item">
                  <input type="password" placeholder="&nbsp;" id="memberPwd" name="memberPwd" autocomplete="off">
                  <label for="memberPwd" class="title">비밀번호</label>
                  <i class="ico-eye"></i>
                </div>
                <div class="btn-wrap">
                  <button type="button" class="btn-type full" id="aBtnLogin">로그인</button>
                </div>
              </form>
              <div class="form-bottom">
                <div class="chk-box">
                  <input type="checkbox" id="saveId" name="saveId">
                  <label class="checkbox" for="saveId"></label>
                  <label for="saveId">아이디저장</label>
                </div>
                <ul class="list-type2 pcWrap">
                  <li><a href="/user/find/loginInfo?find=id">아이디 찾기</a></li>
                  <li><a href="/user/find/loginInfo?find=pw">비밀번호 찾기</a></li>
                  <li><a href="/member/join">회원가입</a></li>
                </ul>
              </div>
            </div>
            <div class="sns-box">
              <div class="tooltip">
                <p>SNS 간편로그인</p>
              </div>
              <ul>
                <li>
                  <a href="javascript:void(0);" id="google_login" onclick="snsLogin('google')"><i class="ico-sns"></i></a>
                </li>
                <li>
                  <a href="javascript:void(0);" id="naver_login" onclick="snsLogin('naver')"><i class="ico-sns2"></i></a>
                </li>
                <li>
                  <a href="javascript:void(0);" id="kakao_login" onclick="snsLogin('kakao')"><i class="ico-sns3"></i></a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>



  <!--footer공통영역-->
  <th:block th:replace="~{common/footer :: footer}"></th:block>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

</body>
</html>